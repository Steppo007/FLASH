import { Meta, Title, Canvas, Controls, Story } from '@storybook/addon-docs/blocks';
import * as metaData from './comp.stories'; 
import Example from './example'

<Meta of={metaData} />

<Title/>

### Uses: [PrimeReact InputSwitch](https://primereact.org/inputswitch/)

The KInputSwitch is used to select a boolean value.

<Canvas of={metaData.Story} />
<Controls />

<Example/>

## Example Usage

Use the KInputSwitch as one uses the PrimeReact [InputSwitch](https://primereact.org/inputswitch).

Attention! To update the state, use the `onChange` attribute instead of `onClick`.

[comment]: # (START WRITE ./example.tsx)
[comment]: # (DO NOT EDIT: the following has been auto-generated with the command "npm run sync:docs")
```jsx
import { KInputSwitch } from '@flash/ui-components/form/kinputswitch';
import { KInputContainer } from '@flash/ui-components/form/kinputcontainer';
import KHelperText from '@flash/ui-components/misc/khelpertext';
import { ExampleWrapper } from '@sbook/utils';
import { useState } from 'react';

interface Language {
  label: string;
  key: string;
  checked: boolean;
}

const languages: Language[] = [
  { label: 'English', key: 'en', checked: true },
  { label: 'German', key: 'de', checked: false },
  { label: 'Spanish', key: 'es', checked: false },
  { label: 'French', key: 'fr', checked: true },
];

export default function Example() {
  const [compLanguages, setCompLanguages] = useState(languages);

  /**
   * Create new array with updated inputswitch group state.
   * New array object reference needed for React state update.
   */
  const changeValue = (key: string, checked: boolean) => {
    const updatedLanguages = compLanguages.map((language) =>
      language.key === key ? { ...language, checked } : language
    );
    setCompLanguages(updatedLanguages);
  };

  const allSelected = compLanguages.every((x) => x.checked);
  const helperText = allSelected
    ? 'Cannot choose all languages'
    : 'Choose your languages';

  return (
    <ExampleWrapper className="flex items-center justify-center">
      <KInputContainer>
        <div className="flex gap-12">
          {compLanguages.map((language) => {
            return (
              <KInputSwitch
                key={language.key}
                name="language-checkbox"
                inputId={'language-checkbox-' + language.key}
                value={language.key}
                label={language.label}
                checked={language.checked}
                onChange={() => changeValue(language.key, !language.checked)}
                invalid={allSelected}
                size="default"
              />
            );
          })}
        </div>
        <KHelperText className="mt-2">{helperText}</KHelperText>
      </KInputContainer>
    </ExampleWrapper>
  );
}
```
[comment]: # (END WRITE)